---
import BaseHead from '../components/BaseHead.astro'
import Header from '../components/Header.astro'
import Footer from '../components/Footer.astro'
import Body from '../components/Body.astro'
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts'
import Content from '../components/Content.astro'
import {
  IoLogoWechat,
  IoMailSharp,
  IoLogoGithub,
  IoArrowForward,
  IoLogoRss
} from 'react-icons/io5/index.js'
import { FaTelegramPlane } from 'react-icons/fa/index.js'
import FormattedDate from '../components/FormattedDate.astro'
import { getCollection } from 'astro:content'
const posts = (await getCollection('blog')).sort(
  (a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
)
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <Body>
    <Header title={SITE_TITLE} />
    <main class="pt-2">
      <Content>
        <section>
          <p>
            Heyï¼Œå¤§å®¶å¥½ï¼Œ
            æˆ‘æ˜¯code4lifeï¼Œä¸€ä¸ªæ­£åœ¨åŠªåŠ›ä¿®è¡Œçš„ç¨‹åºå‘˜ğŸ§‘â€ğŸ’»ã€‚æˆ‘ä¼šåœ¨è¿™ä¸ªé‡å»ºè¿‡åçš„ç‹¬ç«‹åšå®¢ç«™ç‚¹åšä¸€äº›åˆ†äº«ï¼Œä¸é™ç±»å‹ï¼Œ
            æ— é™ç•…æƒ³ï¼ŒğŸ¤Ÿä¸æ–­æŠ˜è…¾ã€‚ä¸ªäººä¸»ä¸šåç«¯ï¼Œå´å¯¹æ–°æŠ€æœ¯æ–°é¢†åŸŸä¸å®šæ—¶æ¶ŒåŠ¨å‡ºè«åçš„æ¬²æœ›ï¼Œæ‰€ä»¥å‰ç«¯ä¹Ÿæ‡‚ä¸€äº›ï¼Œä¸ªäººå®šä½æ›´åå‘å…¨æ ˆï¼ˆganï¼‰å¼€å‘ï¼Œä¹Ÿæ­£åœ¨æ‹“å±•å…¶ä»–æŠ€èƒ½ã€‚
            æˆªæ­¢ç›®å‰ä¸€å…±å‘å¸ƒäº†{posts.length}ç¯‡åšå®¢ï¼Œå…±{
              posts.reduce((sum, item) => (sum = sum + item.data.wordCount), 0)
            }å­—ï¼ŒæŠ˜è…¾è¿‡0ä¸ªä½œå“ï¼Œå…±æ”¶ç›Š0ï¿¥ã€‚
            <a
              class="inline-flex items-center gap-1 indent-1 text-red-600"
              href="/about"
              >Learn more about me<IoArrowForward className="inline" /></a
            >
          </p>
          <p class="italic my-3">
            é™¤äº†å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ï¼š
          </p>
          <div class="flex">
            <a class="mr-4" href=""><IoLogoWechat size={26} /></a>
            <a class="mr-4" href="https://github.com/WanTong-surak"
              ><IoLogoGithub size={26} /></a
            >
            <a class="mr-4" href=""><FaTelegramPlane size={26} /></a>
            <a class="mr-4" href="mailto:code4life2@xxooyou.cn"
              ><IoMailSharp size={26} /></a
            >
            <a class="mr-4" href="/rss.xml"><IoLogoRss size={26} /></a>
          </div>
        </section>
        <hr class="my-4" />
        <section aria-label="Blog post list">
          <h3 class="mb-4 text-lg font-semibold">æœ€è¿‘æ›´æ–°:</h3>
          <ul class="space-y-4 sm:space-y-2 mx-4">
            {
              posts.map(post => (
                <li class="flex items-center justify-start">
                  <FormattedDate date={post.data.pubDate} />
                  <a class="underline" href={`/blog/${post.slug}/`}>
                    {post.data.title}
                  </a>
                </li>
              ))
            }
          </ul>
        </section>
      </Content>
      <Footer />
    </main>
  </Body>
</html>
